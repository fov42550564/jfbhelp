{\rtf1\ansi\ansicpg936\cocoartf1127
{\fonttbl\f0\fnil\fcharset0 SimHei;}
{\colortbl;\red255\green255\blue255;\red0\green41\blue57;}
\paperw11900\paperh16840\margl1440\margr1440\vieww26700\viewh15100\viewkind0
\deftab720
\pard\pardeftab720

\f0\fs28 \cf2 \uc0\u22312 arc\u20013 \u65292 objc\u21644 c\u30340 \u25351 \u38024 \u36716 \u21270 \u38656 \u35201 \u20351 \u29992 __bridge, __bridge_retain, bridge_transfer,\u20351 \u29992 \u26041 \u27861 \u22914 \u19979 \u65306 \
\
NSObject *obj = [[NSObject alloc]init];\
void *ptr = (__bridge void *)obj;\
\'85\
do with ptr\
\
\uc0\u36825 \u37324 \u22914 \u26524 \u22312 MRC\u20013 \u65292 \u19981 \u20250 \u20986 \u29616 \u38382 \u39064 \u65292 \u22240 \u20026 obj\u36824 \u27809 \u26377 \u34987 \u38144 \u27585 \u65292 \u20294 \u26159 \u22914 \u26524 \u22312 ARC\u20013 \u65292 \u30001 \u20110 \u21518 \u38754 \u27809 \u26377 \u20877 \u20351 \u29992 obj,\u37027 \u20040 \u65292 ARC\u23601 \u20250 \u33258 \u21160 \u23558 \u20854 \u38144 \u27585 \u65292 \u23548 \u33268 ptr\u25351 \u21521 \u26159 \u19968 \u20010 \u37326 \u25351 \u38024 \u65292 \u22240 \u27492 \u20250 \u20986 \u38169 \u12290 \
\uc0\u22240 \u27492 \u38656 \u35201 \u20351 \u29992 \
void *ptr = (__bridge_retain void *)obj;\
\uc0\u24403 \u28982 \u20063 \u21487 \u20197 \u38459 \u27490 ARC\u30340 \u33258 \u21160 \u38144 \u27585 \u65292 \u27604 \u22914 \u29992 \u19968 \u20010 \u20840 \u23616 \u30340 NSObject *obj1=obj\u65292 \u20840 \u23616 \u30340 \u29983 \u21629 \u21608 \u26399 \u26159 \u24212 \u29992 \u31243 \u24207 \u25972 \u20010 \u36807 \u31243 \u12290 \
\
\
\uc0\u30456 \u21453 \u65306 \
NSObject *obj = (__bridge NSObject*\uc0\u65289 ptr;\
\uc0\u36825 \u26159 \u21482 \u26159 \u25351 \u21521 ptr\u30340 \u20869 \u23384 \u22320 \u22336 \u12290 \u20197 \u21069 \u30340 \u25216 \u26415 \u27809 \u26377 \u21464 \u65292 \u22312 ARC\u20013 \u26159 \u27809 \u26377 \u38382 \u39064 \u30340 \u65292 \u20294 \u26159 \u22914 \u26524 \u22312 MRC\u20013 \u65292 \u22914 \u26524 \u20351 \u29992 \u20102 __bridge_retain\u65292 \u20351 \u24471 \u24212 \u29992 \u35745 \u25968 \u22686 \u21152 \u20102 \u65292 \u36825 \u26102 \u23601 \u38656 \u35201 \u27880 \u24847 \u37322 \u25918 \u65292 \u37319 \u29992 \
NSObject *obj = (__bridge_transfer NSObject*\uc0\u65289 ptr;\
\uc0\u20294 \u26159 \u36825 \u37324 \u36824 \u26159 \u26377 \u38382 \u39064 \u65292 \u22914 \u26524 \u35843 \u29992 \u20102 \u22810 \u27425 \u65292 \u23601 \u20250 \u37322 \u25918 \u22810 \u27425 \u12290 \
\
\uc0\u22240 \u27492 \u22914 \u26524 \u22312 MRC\u20013 \u65292 \u20351 \u29992 __bridge\u23601 \u21487 \u20197 \u20102 ,\u20854 \u23454 \u23601 \u26159 \u19981 \u29992 \u23601 \u21487 \u20197 \u20102 \u65292 \u22240 \u20026 \u36825 3\u20010 \u20851 \u38190 \u23383 \u21482 \u26159 \u22312 ARC\u20013 \u26377 \u25928 \u12290 \
\uc0\u22312 ARC\u20013 \u65292 \u20351 \u29992 \u19968 \u20010 __bridge_retain\u23601 \u21487 \u20197 \u20102 \u12290 \
}