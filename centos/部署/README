1. 讲mongodb.tar node-v12.16.1-linux-x64.tar 解压放在 /root/tools 下
如下：
mongodb  mongodb.tar  node node-v12.16.1-linux-x64.tar
.bashrc:
export PATH=$PATH:/root/tools/node/bin:/root/tools/node/lib/node_modules/npm/bin/node-gyp-bin:/root/tools/mongodb/bin
ln -s /root/tools/node/lib/node_modules node_modules
firewall-cmd --permanent --add-port=4040/tcp
firewall-cmd --permanent --add-port=4041/tcp
firewall-cmd --permanent --add-port=5131/tcp
firewall-cmd --reload
firewall-cmd --list-all

2. 开启mongodb和自动重启
mkdir -p /home/database/mongodb/
修改 mongodb.conf 为本机ip
mv mongodb.conf /home/database/mongodb/
mv mongodb /etc/init.d/
启动mongodb： /etc/init.d/mongodb

chkconfig --add /etc/init.d/mongodb
chkconfig mongodb on
chkconfig --list

3. 离线安装nginx (本次不适用)
yum install -y nginx-1.18.0-1.el7.ngx.x86_64.rpm
systemctl start nginx.service
systemctl enable nginx.service
systemctl status nginx.service
cp /etc/nginx/conf.d/default.conf /etc/nginx/old_default.conf
echo server.conf > /etc/nginx/conf.d/default.conf
修改/etc/selinux/config 文件
将SELINUX=enforcing改为SELINUX=disabled

4. 离线安装pm2
mv pm2.tar /root/tools/node/lib/node_modules
tar xvf pm2.tar
cd /root/tools/node/bin
ln -s ../lib/node_modules/pm2/bin/pm2 pm2
ln -s ../lib/node_modules/pm2/bin/pm2-dev pm2-dev
ln -s ../lib/node_modules/pm2/bin/pm2-docker pm2-docker
ln -s ../lib/node_modules/pm2/bin/pm2-runtime pm2-runtime


4. 启动程序
mv main.tar /root
tar xvf main.tar
ZYServer ZYPolice_PC SOControl
cd SOControl
node run.js

5. pm2 的开机启动
pm2 save
pm2 startup
